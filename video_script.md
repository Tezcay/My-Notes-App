# 《Web 程序设计实践》期末项目完整演示脚本 (进阶版)

**时长控制**：约 6-8 分钟
**核心策略**：功能演示全覆盖 + 核心代码深度讲 + 亮点功能重点秀
**准备工作**：

1.  **清空数据**：建议在演示前清空 LocalStorage (浏览器控制台 `localStorage.clear()`)，从“零”开始演示，体验更流畅。
2.  **代码准备**：VS Code 打开项目根目录，折叠好 sidebar，准备好切屏。
3.  **环境**：使用 Edge 或 Chrome 浏览器，确保已“卸载”PWA（如果之前安过），以便演示安装过程或 SW 注册。

---

## 0. 开场 (约 30 秒)

**(画面：停留在网页主界面，光标指向左上角的学号姓名)**

**【解说词】**
老师好，我是软件工程专业的[您的姓名]，学号[您的学号]。
我带来的期末项目是“**基于原生 Web 技术的个人笔记管理系统**”。

本项目没有使用 Vue 或 React 等框架，而是完全使用 **HTML5 + CSS3 + 原生 JavaScript** 构建。
采用了 **MVC 模式** 进行模块化开发，实现了包括 **PWA 离线访问、Markdown 编辑、拖拽归档、私密空间** 等在内的十余项高级功能，旨在打造一个响应迅速、交互丝滑的 SPA 单页应用。

---

## 1. 基础交互与架构 (约 1 分 30 秒)

### 1.1 界面与响应式

**(动作：调整浏览器窗口大小，展示手机端布局切换)**
**【解说词】**
首先看界面。系统采用了经典的三栏布局。
它是一个**响应式**应用。大家看，当我缩小窗口时，侧边栏会自动隐藏，变成移动端的抽屉式菜单，编辑器全屏显示，适配各种移动设备。

### 1.2 增删改与自动保存

**(动作：新建笔记 -> 输入标题 -> 输入正文 -> 刷新页面证明还在)**
**【解说词】**
基础的 CRUD 非常流畅。
点击新建，输入标题“期末复习”，这里我实现了一个**无感自动保存**功能。
**（切到代码 Editor.js -> `input` 事件监听）**
可以看到，我监听了输入框的 `input` 事件，并利用了**防抖 (Debounce)** 策略，在用户停止输入后自动将数据写入 `localStorage`，防止高频读写卡顿。

### 1.3 搜索与高亮

**(动作：搜索框输入“复习” -> 展示列表中文字变绿高亮)**
**【解说词】**
搜索功能不仅是简单的过滤。
**（切到代码 Utils.js -> `highlightText` 函数）**
我在渲染列表时，利用**正则表达式**动态匹配关键词，并包裹了高亮标签。这样用户能第一时间看到匹配的内容，体验对标原生 App。

---

## 2. 核心亮点功能 (重点演示 - 约 4 分钟)

### 2.1 拖拽归档与排序 (Drag & Drop)

**(动作：拖动笔记进文件夹 -> 切换文件夹查看 -> 拖动文件夹改变顺序)**
**【解说词】**
接下来演示交互亮点——**全功能拖拽**。
系统实现了双重拖拽：

1.  **笔记归档**：利用 HTML5 Drag API，将笔记直接拖入左侧文件夹。
2.  **文件夹排序**：文件夹本身也可以拖动调整顺序。

**（切到代码 UI.js -> `dragstart` / `drop` 事件）**
代码中，我通过 `dataTransfer` 携带了数据索引。在 `drop` 事件触发时，通过数组的 `splice` 方法进行元素的移动和重排，最后全量保存数据。

### 2.2 Markdown 编辑器与图片粘贴

**(动作：点击工具栏加粗、列表 -> 截图粘贴图片 -> 点击预览)**
**【解说词】**
笔记内容支持 **Markdown 语法**。
我集成了 EasyMDE 库，并进行了深度定制。
**难点在于图片粘贴**：默认的编辑器不支持直接粘贴图片。
我的解决思路是：监听编辑器的 `paste` 事件，拦截剪贴板数据，通过 `FileReader` 读取剪贴板中的 `Blob` 数据，将其转化为 Base64 编码，并生成 Markdown 图片语法插入编辑器。这让图文混排变得极其方便。

### 2.3 待办事项 (Todo List)

**(动作：点击“未完成” -> 点击复选框 -> 笔记消失 -> 点击“已完成” -> 笔记出现)**
**【解说词】**
除了普通笔记，我还实现了**待办事项管理**。
在“未完成”视图下，列表左侧会动态渲染复选框。
**（切到代码 Main.js -> `checkbox` change 事件）**
点击勾选时，系统会自动修改该笔记的 `categoryId` 为 `todo-finished`，并将其移动到“已完成”列表。这套逻辑完全复用了底层的笔记数据结构，扩展性很强。

### 2.4 私密空间 (安全性设计)

**(动作：点击“私密笔记” -> 输入密码 -> 进入)**
**【解说词】**
为了隐私安全，做了一个**私密空间**。
首次进入会要求设置密码。
**（切到代码 Advanced.js -> `handlePrivateAccess`）**
这里是一个路由拦截器。在切换分类前，会判断目标 ID 是否为 `private`。如果是，则弹出模态框进行拦截。只有密码验证通过，才会执行 `switchCategory` 进行视图切换。

---

## 3. 工程化与 PWA (技术压轴 - 约 1 分 30 秒)

### 3.1 PWA 离线安装

**(动作：F12 -> Application -> Service Workers -> 勾选 Offline -> 刷新页面)**
**【解说词】**
最后是本项目的最大技术亮点——**PWA 渐进式 Web 应用**。
大家看，我现在在开发者工具中模拟**断网 (Offline)** 状态。
刷新页面，应用依然**秒开**，不仅没有 404，连图标和样式都完好无损。

**（切到代码 scripts/ServiceWorker.js）**
这是因为我编写了 `ServiceWorker`，使用了 **Cache-First (缓存优先)** 策略。
在应用首次安装时，我会预缓存 `index.html`、`styles` 和核心 `scripts`。请求拦截时，优先从缓存读取，确保了离线可用性。这也让网页可以被安装到桌面，像原生软件一样运行。

### 3.2 数据备份与恢复

**(动作：点击导出 -> 下载 JSON -> 点击导入 -> 恢复数据)**
**【解说词】**
为了防止数据丢失，我还使用了现代浏览器的 File System API 实现了数据的**JSON 到处与导入**，方便用户迁移数据。

---

## 4. 总结 (约 30 秒)

**【解说词】**
最后总结一下。
这个项目虽然体积不大，但只有 **HTML/CSS/JS** 三个基础文件，却“麻雀虽小五脏俱全”。
我通过**模块化**设计解决了代码膨胀问题，通过 **PWA** 提升了应用层级。
在开发过程中，我对 DOM 操作、事件委托、以及 Web 存储技术有了非常深刻的理解。
以上就是我的汇报，谢谢老师！
